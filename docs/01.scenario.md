# Dots and Boxes Game – End‑to‑End Scenario Catalogue

## 0. 시뮬레이션 개요
- 제품: 초등학생 대상 Dots and Boxes 디지털 게임(웹/모바일, Antigravity 기반 바이브 코딩)
- 모드: 싱글플레이(튜토리얼/연습/AI 대전), 로컬 2인, 온라인 매칭, 교사용 클래스 모드
- 이해관계자: 어린이 플레이어, 학부모, 교사, PM, PO, 게임 디자이너, 개발·QA, DevOps, CS, 데이터 분석가

각 섹션은 "어떤 행위자가", "어떤 목적"으로, "어떤 플로우"를 밟는지, 그리고 이에 대응해 어떤 문서/시스템 레이어가 관여하는지를 시나리오로 정의한다.

---

## 1. 제품 비전·기획 시나리오

### 1-1. PM이 초기 비전 정의
- 행위자: PM, PO
- 목표: 초등 수학·전략 사고 교육용 Dots and Boxes 제품의 방향성 설정
- 플로우:
  1) PM이 시장·경쟁 분석 리포트 작성(동일 장르 게임, 교육용 앱 벤치마킹).
  2) 타깃 정의: 만 4세~초등 4학년, 교실·가정 겸용.
  3) 핵심 가치 정의: "게임을 통해 체인/루프 전략 사고와 기초 기하·논리력 습득".
  4) KPI 설정: 7일/30일 리텐션, 튜토리얼 완료율, 교실 모드 재사용률.
  5) 제품 비전 문서와 연간 로드맵 초안 작성.
- 연관 문서/레이어: Product Vision, KPI 문서, Roadmap, 시장 분석 리포트.

### 1-2. 비즈니스 모델·수익 시나리오
- 행위자: PM, 비즈니스 오너
- 목표: 무료/유료 요소 결정 및 추후 수익화 경로 명세
- 플로우:
  1) 무료 기본 모드: 싱글·로컬 2인, 기본 튜토리얼.
  2) 유료/프리미엄: 교사용 클래스 관리, 고급 AI 분석 리포트, 추가 테마.
  3) 인앱 결제·구독 정책 정의.
  4) 관련 규제/심의(예: 아동 보호, 광고 정책) 체크리스트 작성.
- 연관 문서: Business Model Canvas, Pricing & Monetization Spec, Compliance Checklist.

---

## 2. 게임 디자인·규칙 시나리오

### 2-1. 기본 규칙 정의
- 행위자: 게임 디자이너, 수학 교육 자문
- 목표: 표준 Dots and Boxes 규칙 및 초등 교육에 맞는 변형 정의
- 플로우:
  1) 4x4 ~ 6x6 격자를 기본으로 설정.
  2) "상자 완성 시 한 번 더 턴" 룰을 기본, 옵션으로 변형 룰 정의.
  3) 체인/루프, 긴 체인 규칙, 이중 교차 전략을 문서화(고급 모드).
  4) 만 4세용 단순화 룰(작은 판, 추가 턴 없음, 색칠 위주) 정의.
  5) 난이도별 규칙 테이블 작성(유아/저학년/고학년/성인).
- 연관 문서: GDD, 교육 목표 매핑 문서, 난이도 설계 문서.

### 2-2. 모드·레벨 디자인 시나리오
- 행위자: 게임 디자이너, PM
- 목표: 다양한 사용 맥락을 커버하는 모드 설계
- 플로우:
  1) 튜토리얼 모드: 규칙 단계별 소개, 가이드 화살표, 되돌리기 허용.
  2) 연습 모드: AI 난이도 선택, 힌트 토글.
  3) 클래식 대전 모드: 로컬 2인, 온라인 매칭.
  4) 교실 모드: 교사 계정으로 여러 보드를 동시에 관리, 학생별 통계 제공.
  5) 모드별 승리 조건 및 리워드 설계.
- 연관 문서: GDD, 모드 스펙, UX Flow.

---

## 3. UX / UI 및 사용자 플로우 시나리오

### 3-1. 어린이 플레이어 온보딩 시나리오
- 행위자: 만 7세 학생
- 목표: 계정 없이도 빠르게 게임체험, 이후 프로필 생성 유도
- 플로우:
  1) 앱 실행 → 로고/간단 인트로.
  2) "게스트로 시작" 버튼 탭.
  3) 나이 대 선택(아이콘 기반)으로 난이도 프리셋 적용.
  4) 간단한 인터랙티브 튜토리얼(선 긋기, 상자 색칠) 1판 진행.
  5) 튜토리얼 완료 후 "내 이름/아바타 정하기" 화면에서 로컬 프로필 생성 유도.
- 연관 문서: User Flow, 와이어프레임, 온보딩 UX 가이드.

### 3-2. 교사 클래스 세션 시나리오
- 행위자: 초등 교사
- 목표: 교실에서 여러 학생이 동시에 사용하는 수업 운영
- 플로우:
  1) 교사 계정 로그인.
  2) "새 수업 세션" 생성, 학년/목표(체인 전략 이해 등) 선택.
  3) 세션 코드가 생성되고, 학생은 각자 디바이스에서 코드 입력.
  4) 교사는 대시보드에서 각 학생의 보드 상태/진행률 실시간 확인.
  5) 수업 종료 시, 학생별 요약 리포트(승패, 체인 인식 문제 등) 확인.
- 연관 문서: 교실 모드 UX 설계, Teacher Dashboard Spec, 접근성 가이드.

### 3-3. 학부모 관점 UX 시나리오
- 행위자: 학부모
- 목표: 자녀의 플레이 내역과 학습 진전 확인
- 플로우:
  1) 자녀 디바이스 내 앱에서 "학부모 뷰" 진입(간단 PIN).
  2) 최근 플레이 시간, 난이도, 승률, 튜토리얼 진행률 확인.
  3) "집에서 할 수 있는 활동" 제안 카드 확인.
- 연관 문서: Parent UX, 리포트 레이아웃, 프라이버시 정책.

---

## 4. 기능 플로우·백엔드 시나리오

### 4-1. 싱글플레이 게임 세션 생성
- 행위자: 클라이언트 앱
- 목표: 오프라인 가능한 싱글 세션 생성
- 플로우:
  1) 유저가 싱글 모드와 난이도 선택.
  2) 클라이언트가 로컬에서 보드 상태 객체(BoardState)를 초기화.
  3) 선택 난이도에 맞는 AI 전략 모듈 인스턴스화.
  4) 세션 ID를 생성하고, 필요 시 서버에 요약 메타데이터 전송(분석·동기화용).
  5) 게임 종료 시 결과(승자, 턴 수, 체인 통계)를 로컬 및 서버에 저장.
- 연관 문서: API Spec(옵션), BoardState 모델 정의, AI 모듈 인터페이스.

### 4-2. 온라인 매칭·실시간 게임 시나리오
- 행위자: 두 명의 플레이어, 매치메이킹 서비스, 게임 서버
- 목표: 글로벌 플레이어 간 실시간 대전
- 플로우:
  1) 플레이어 A/B가 "온라인 대전" 선택, 랭크/캐주얼 큐에 진입.
  2) 매치메이킹 서비스가 MMR/지역/핑 기준으로 매칭.
  3) 게임 서버가 세션 생성, 초기 보드/턴 정보 양측에 전송.
  4) 각 턴마다 플레이어 클라이언트가 선 긋기 액션을 서버에 전송.
  5) 서버는 룰 검증 후 보드 상태를 업데이트, 양측에 브로드캐스트.
  6) 게임 종료 시 서버가 결과 기록·랭킹 업데이트.
- 연관 문서: 실시간 프로토콜 설계(WebSocket), Matchmaking Spec, 순위 시스템 설계, 보안(치트 방지) 문서.

### 4-3. 튜토리얼·학습 시나리오
- 행위자: 튜토리얼 엔진, 플레이어
- 목표: 규칙 및 체인 전략을 단계별로 학습
- 플로우:
  1) 튜토리얼 스크립트 엔진이 시나리오 JSON을 읽어 단계별 지시(텍스트/음성/하이라이트)를 제공.
  2) 특정 행동(예: 세 번째 변을 클릭) 시 피드백(경고·설명 팝업) 제공.
  3) 각 튜토리얼 단계 완료 시 체크포인트 저장.
  4) 전체 튜토리얼 완료 후, 난이도 추천 및 보상(아바타·스킨 등) 지급.
- 연관 문서: Tutorial Script Spec, 교육 목표 매핑, UX Copy 문서.

---

## 5. 데이터·분석·ERD 연계 시나리오

### 5-1. 핵심 ERD 엔티티 및 관계(요약)
- User(학부모/학생/교사 타입, 프로필)
- Session(게임 세션: 모드, 시작/종료 시각, 결과)
- Move(각 턴 정보: 보드 ID, 선 좌표, 플레이어, 타임스탬프)
- BoardState(판 크기, 현재 선/상자 상태, 난이도 태그)
- TutorialProgress(튜토리얼 단계별 상태)
- ClassSession(교실 모드 세션, 교사/학생 관계)
- Ranking(레이트/MMR, 시즌별 기록)

### 5-2. 분석 이벤트 시나리오
- 행위자: 클라이언트 SDK, 분석 파이프라인
- 목표: 게임·학습 품질 개선을 위한 로그 수집
- 플로우:
  1) 앱이 세션 시작/종료, 튜토리얼 단계, 게임 내 주요 의사결정(체인 진입, 실수 패턴 등)을 이벤트로 기록.
  2) 이벤트는 배치/실시간으로 수집·적재(예: Kafka → DWH).
  3) 분석가는 리포트/대시보드에서 난이도별 승률, 체인 전략 이해도, 튜토리얼 이탈 구간 등을 시각화.
- 연관 문서: 이벤트 스키마 정의, 분석 대시보드 스펙.

---

## 6. 인프라·운영 시나리오

### 6-1. 배포·릴리즈 파이프라인 시나리오
- 행위자: DevOps, CI/CD 시스템
- 목표: 안전하고 반복 가능한 배포
- 플로우:
  1) 개발자가 main 브랜치에 PR 머지.
  2) CI가 테스트·빌드·정적 분석 수행.
  3) 스테이징 환경에 자동 배포, QA 승인 후 프로덕션에 릴리즈.
  4) 블루그린/카나리 전략을 사용해 점진적 배포.
  5) 모니터링 알람 기반 롤백 시나리오 준비.
- 연관 문서: CI/CD 설계, 운영 Runbook, 롤백 가이드.

### 6-2. 모니터링·알림 시나리오
- 행위자: 모니터링 시스템(APM, 로그), 온콜 엔지니어
- 목표: 가용성과 성능 유지
- 플로우:
  1) 주요 지표(에러율, 응답시간, 매치메이킹 대기시간)를 대시보드로 시각화.
  2) 임계치 초과 시 온콜 담당자에게 알림.
  3) 장애 발생 시 Runbook에 따라 진단(로그, 메트릭, 최근 배포 내역) 후 대응.
  4) 장애 후 RCA 문서화 및 개선 작업 티켓 발행.
- 연관 문서: 모니터링 설계, SLO/SLA 문서, Incident Management Playbook.

---

## 7. QA·테스트 시나리오

### 7-1. 기능 테스트 시나리오
- 행위자: QA 엔지니어, 자동화 테스트 프레임워크
- 목표: 룰·플로우가 사양대로 동작하는지 검증
- 플로우 예시:
  1) 4x4 보드에서 두 플레이어가 번갈아 선을 그어 상자 완성 규칙·턴 추가 규칙 확인.
  2) 긴 체인 상황에서 이중 교차가 올바르게 처리되는지 확인.
  3) 튜토리얼 단계별 진입/이탈, 재진입 시 상태 유지 여부 검증.
- 연관 문서: 테스트 케이스 문서, 자동화 스펙.

### 7-2. 부하·스트레스 테스트 시나리오
- 행위자: QA, 성능 테스트 도구
- 목표: 피크 동시 접속에도 안정성 확보
- 플로우:
  1) 가상의 동시 사용자(예: 10K)를 시뮬레이션.
  2) 매치메이킹, 실시간 게임, 튜토리얼 사용 패턴 혼합.
  3) 응답 시간, 에러율, 자원 사용량 모니터링.
- 연관 문서: 성능 테스트 플랜, 결과 리포트.

---

## 8. 고객 지원·CS·커뮤니티 시나리오

### 8-1. 인앱 고객 문의 시나리오
- 행위자: 플레이어, CS 팀
- 목표: 게임 내 문제를 빠르게 해결
- 플로우:
  1) 유저가 설정 → "도움이 필요해요"에서 문의 작성.
  2) 클라이언트가 디바이스 정보, 앱 버전, 최근 로그 ID를 자동 첨부.
  3) CS 툴로 티켓 생성, 담당자 할당.
  4) FAQ 링크·자동 응답 후, 필요 시 1:1 응대.
- 연관 문서: CS 플로우, FAQ, 템플릿 응답 문서.

### 8-2. 부적절 행동·공정성 이슈 처리
- 행위자: 온라인 플레이어, 운영팀
- 목표: 치트/비매너 사용자 대응
- 플로우:
  1) 유저가 신고 버튼으로 게임 룸/플레이어를 신고.
  2) 서버는 해당 세션 로그와 리플레이를 태깅.
  3) 운영팀이 패턴 분석(이상한 수, 비정상 속도 등) 후 제재 여부 결정.
- 연관 문서: 커뮤니티 가이드라인, 제재 정책, 리포트 처리 프로세스.

---

## 9. 제품 개선·실험 시나리오

### 9-1. 난이도 튜닝 A/B 테스트
- 행위자: PM, 데이터 분석가, 개발자
- 목표: 특정 난이도/AI 전략이 리텐션·학습 성과에 미치는 영향 평가
- 플로우:
  1) 두 버전의 AI 전략(보수적 vs 공격적)을 준비.
  2) 신규 유저를 무작위로 그룹 A/B로 나눔.
  3) 일정 기간 동안 두 그룹의 승률, 재방문율, 튜토리얼 재시작률 비교.
  4) 통계적으로 유의한 차이가 있으면 더 나은 버전 채택.
- 연관 문서: 실험 설계 문서, 데이터 분석 리포트, PRD 업데이트.

### 9-2. 신규 모드(예: 퍼즐 모드) 도입 시나리오
- 행위자: PM, 게임 디자이너, 개발·QA
- 목표: 퍼즐 기반 싱글 모드를 추가하여 사용성 확장
- 플로우:
  1) 퍼즐 규칙 정의(주어진 보드에서 최적 플레이 찾기 등).
  2) GDD/PRD에 신규 모드 요구사항 추가.
  3) UI 업데이트(모드 선택 화면), 백엔드 스키마 확장.
  4) 베타 기능으로 일부 사용자에게만 공개 후 피드백 수집.
- 연관 문서: 업데이트된 GDD/PRD, 마이그레이션 플랜, 릴리즈 노트.

---

## 10. 팀·조직·지식 관리 시나리오

### 10-1. 신규 팀원 온보딩
- 행위자: 신규 개발자/디자이너, 팀 리드
- 목표: 기존 아키텍처와 도메인을 빠르게 이해
- 플로우:
  1) 온보딩 가이드에 따라 환경 세팅(Antigravity, 레포, CI 인증 등).
  2) 아키텍처 문서, ERD, 주요 시나리오.md를 순서대로 읽으며 개념 정리.
  3) 첫 작업으로 작은 버그 수정 또는 UI 개선 티켓 배정.
- 연관 문서: 온보딩 가이드, ADR, 시나리오 카탈로그.

### 10-2. 아키텍처 의사결정 기록(ADR) 시나리오
- 행위자: 테크 리드, 아키텍트
- 목표: 기술 선택·변경의 이유를 투명하게 관리
- 플로우:
  1) 새로운 프레임워크/인프라 선택 필요 시 ADR 템플릿 생성.
  2) 대안·장단점·결정 이유 명시.
  3) 리뷰 후 확정, 레포 내 docs/adr에 버전 관리.
- 연관 문서: ADR, Architecture Overview.

---

## 11. 시나리오 상관관계 요약

- 기획·비전 시나리오(1번)가 모든 하위 문서와 플로우의 방향성을 규정한다.
- 게임 디자인·규칙(2번)은 UX(3), 기능 플로우(4), 데이터 모델(5)의 핵심 입력이다.
- UX 시나리오(3번)는 PRD/SRS 요구사항과 직접 매핑되며, 테스트 시나리오(7번)의 근거가 된다.
- 기능·백엔드 시나리오(4번)는 아키텍처/인프라(6번), ERD(5번)와 강하게 연결된다.
- 분석·실험 시나리오(5, 9번)는 제품 개선 루프를 형성하여 PRD와 로드맵을 계속 업데이트하게 만든다.
- QA·운영·CS 시나리오(6, 7, 8번)는 서비스 안정성과 사용자 만족도를 유지하기 위한 보호막 역할을 한다.
- 팀·지식 관리 시나리오(10번)는 위 모든 문서·시나리오를 장기적으로 유지·진화시키는 기반이다.

이 문서는 Antigravity 바이브 코딩 환경에서 Dots and Boxes 게임을 설계·구현·운영하기 위한 엔드‑투‑엔드 시나리오 카탈로그로 사용된다.

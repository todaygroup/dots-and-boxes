# Dots and Boxes Game – Product Requirements Document (PRD)

## 1. 제품 개요
- 제품명(가칭): **Dots and Boxes Game System**
- 타입: 교육용 보드게임 디지털 앱 (웹/모바일, Antigravity + 바이브 코딩 기반)
- 핵심 개념: 고전 연필·종이 게임인 Dots and Boxes를 디지털로 구현하여, 초등 수준의 수학·전략 사고·공간 지능을 놀이를 통해 학습할 수 있게 하는 제품.

## 2. 문제 정의 & 기회
- 오프라인 Dots and Boxes는 규칙은 단순하지만, 체인/루프/이중 교차 등 깊은 전략을 담고 있음.
- 현재 초등·유아 대상 디지털 수학 게임은 산술 위주가 많고, **전략·공간 추론**까지 다루는 제품은 제한적.
- 교사·학부모가 수업/가정에서 함께 사용할 수 있는, 규칙이 명확하고 리소스가 잘 정리된 도구에 대한 수요가 존재.

## 3. 타깃 유저 & 페르소나
1) 만 4–6세 유아
   - 목표: 선긋기, 상자 완성, 간단한 승패 경험, 기초적인 수 개념·공간 인식.
2) 초등 1–4학년 학생
   - 목표: 체인/루프 개념 이해, 전략 수립·계획 능력, 친구와의 대전에서 공정한 경쟁.
3) 초등 교사
   - 목표: 수학·전략 사고 수업에 바로 활용 가능한 활동지/디지털 도구, 학생별 이해도 파악.
4) 학부모
   - 목표: 집에서 아이와 함께 즐길 수 있는 교육적 게임, 진행 상황·학습 정도를 간단히 확인.

## 4. 제품 목표 & KPI
- 학습 목표
  - Dots and Boxes 규칙을 이해하고 스스로 설명할 수 있는 학생 비율.
  - 체인/루프를 인지하고 기본 전략을 적용할 수 있는 학생 비율.
- 사용성 목표
  - 신규 유저 튜토리얼 완료율 ≥ 70%.
  - 7일 리텐션 ≥ 목표 X%, 30일 리텐션 ≥ 목표 Y% (추후 수치 확정).
- 교육/운영 목표
  - 월간 활성 교실 세션 수.
  - 평균 수업당 플레이된 게임 수, 학생당 평균 턴 수.

## 5. 범위 / 비범위 (MVP 기준)
### 5.1 범위 (In Scope – MVP)
- 플랫폼: 웹(브라우저), 모바일 웹/하이브리드 1차.
- 게임 모드
  - 싱글플레이: AI 봇과 대전 (난이도 최소 2단계).
  - 로컬 2인 플레이 (한 디바이스에서 교대로).
  - 교실 모드(동일 네트워크 기반 간단 버전): 교사가 여러 학생 보드를 모니터링.
- 보드 크기: 4x4, 5x5, 6x6 기본 제공.
- 튜토리얼
  - 규칙 튜토리얼(만 4세용, 초등용 2종).
  - 기초 전략 튜토리얼(체인/루프, 세 번째 변 피하기 등).
- 기본 랭킹/통계
  - 로컬 승/패/무 기록.
  - 간단한 통계(평균 턴 수, 상자 수 등).

### 5.2 비범위 (Out of Scope – MVP)
- 실시간 글로벌 매치메이킹 및 랭크 시스템.
- 스킨/코스메틱 판매를 포함한 상점 시스템.
- 복잡한 소셜 기능(친구 추가, 길드, 채팅 등).
- 고급 분석 대시보드(개인화 AI 코치, 자동 리포트 등 – 후속 버전 후보).

## 6. 주요 기능 요약
1) 보드 생성 및 게임 진행
2) AI 봇 대전 (난이도별)
3) 로컬 멀티플레이
4) 튜토리얼 & 학습 모드
5) 교실 모드 (교사용 대시보드 최소 기능)
6) 기본 통계 & 리포트(학생/학부모/교사용 요약)
7) 설정/접근성/언어 선택

## 7. 유저 스토리 (Role별)

### 7.1 학생 (초등)
- "나는 규칙을 잘 몰라도, 튜토리얼을 따라 하면서 첫 게임을 완주하고 싶다."
- "나는 AI 봇의 난이도를 조절해서, 이기거나 비슷한 수준의 상대와 연습하고 싶다."
- "나는 게임이 끝난 후, 내가 어떤 실수를 했는지 간단히 보고 싶다(예: 세 번째 변을 자주 만든 위치)."

### 7.2 유아(만 4–6세)
- "그림과 소리만 봐도 어떻게 선을 그려야 하는지 이해하고, 상자가 채워지는 걸 보는 재미를 느끼고 싶다."
- "게임이 너무 길지 않았으면 좋겠다(5분 이내 한 판)."

### 7.3 교사
- "나는 수업 전 5분 안에 수업 방을 만들고 학생들을 입장시키고 싶다."
- "수업 중 실시간으로 각 학생이 어느 정도까지 이해했는지(튜토리얼 단계, 승률, 실수 유형) 확인하고 싶다."
- "수업이 끝난 후, 오늘 활동 요약을 PDF/이미지처럼 간단히 저장하거나 공유하고 싶다(후속 버전 후보)."

### 7.4 학부모
- "나는 복잡한 가입 절차 없이 아이가 게스트 모드로 먼저 놀아 보게 하고, 나중에 필요할 때 계정을 연결하고 싶다."
- "내 아이가 얼마나 자주, 어느 난이도로 게임을 하는지, 대략적인 수준을 알고 싶다."

## 8. 기능 요구사항 (Functional Requirements)
- FR-1: 게임 보드를 생성하고, 점들 사이에 선을 그릴 수 있어야 한다.
- FR-2: 서버/클라이언트는 선이 유효한 수인지(두 점 사이, 중복 아님) 검증해야 한다.
- FR-3: 상자가 완성되면 해당 플레이어에게 점수를 부여하고, 추가 턴을 제공한다(변형 룰은 옵션).
- FR-4: 게임 종료 시 승자/점수/턴 수를 계산해 표시한다.
- FR-5: AI 봇은 난이도에 따라 다른 전략을 사용한다(초급: 랜덤+간단 규칙, 고급: 체인/루프 전략 적용).
- FR-6: 튜토리얼 모드는 단계별 스크립트를 따라가며, 잘못된 수를 선택하면 즉각 피드백을 제공한다.
- FR-7: 교실 모드에서 교사는 각 학생의 진행 상황을 실시간으로 볼 수 있다(간단한 상태 아이콘/색만으로도 충분).
- FR-8: 기본 통계 화면에서 최근 게임 기록(날짜, 모드, 결과)을 확인할 수 있다.

## 9. 비기능 요구사항 (Non‑Functional Requirements)
- NFR-1 성능: 
  - 모바일 브라우저에서 60FPS를 목표, 입력 후 피드백 지연 < 100ms(로컬), 온라인 대전 시 왕복 지연 < 300ms 권장.
- NFR-2 가용성:
  - 게임 서버 가용성 SLO: 99% 이상 (MVP 단계 기준, 추후 상향 고려).
- NFR-3 보안:
  - 아동 계정 보호를 위한 최소한의 인증·인가.
  - 데이터 전송 시 TLS.
- NFR-4 접근성:
  - 주요 색 대비 기준 준수.
  - 텍스트/아이콘 크기 조절.
  - 사운드 기반 피드백 옵션.
- NFR-5 국제화:
  - 최소 한국어/영어 지원, 텍스트 리소스 분리.

## 10. 리스크 & 가정
- 리스크
  - 게임 난이도/AI 전략이 너무 어렵거나 쉬워서 흥미를 잃을 수 있음.
  - 교실 네트워크 환경에 따라 실시간 동기화가 불안정할 수 있음.
  - 아동 데이터 처리 관련 규제·가이드라인 변화.
- 가정
  - MVP 단계에서는 "한 디바이스에서 로컬 플레이"와 "간단한 교실 모드"에 먼저 집중한다.
  - 고급 분석·AI 코치 기능은 후속 버전에서 점진적으로 확장한다.

## 11. 오픈 이슈
- 실시간 글로벌 매칭 도입 시기.
- 상점/코스메틱/수익 모델 세부 설계.
- LLM 기반 전략 해설 모듈을 어느 버전에 도입할지.

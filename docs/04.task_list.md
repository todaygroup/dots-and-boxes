# Dots and Boxes Game System – Full Task List (High-level)

## 0. Meta & 문서화
- [ ] 문서 레포 구조 정리(`docs/` 폴더, 인덱스 README).
- [ ] `dots_and_boxes_5why_stack.md`를 최상위 아키텍처 개요로 링크.
- [ ] PRD, GDD, Game Logic Spec, 01/02/03 통합 문서 상호 링크 정리.

## 1. 제품·게임 기획
- [ ] 제품 비전/OKR 최종 확정 및 팀 공유.
- [ ] 타깃 연령별(유아/저학년/고학년) 페르소나 상세화.
- [ ] 모드 구성(튜토리얼/싱글/로컬2인/교실/온라인 옵션) 최종 결정.
- [ ] MVP 범위·Phase 2 범위 최종 확정.

## 2. UX / UI 설계
- [ ] 주요 화면 목록 정의(메인, 모드 선택, 게임 화면, 결과, 교실 대시보드 등).
- [ ] User Flow 다이어그램 작성 (학생/교사/학부모 별).
- [ ] 각 화면의 텍스트 와이어 설명 작성.
- [ ] 색상/타이포/컴포넌트 스타일 가이드 정의.
- [ ] 접근성 가이드(색 대비, 폰트 크기, 사운드/진동 옵션) 문서화.

## 3. 시스템 아키텍처 & 인프라
- [ ] 클라이언트–서버 아키텍처 최종 결정(프레임워크 선택 포함).
- [ ] Game Client 모듈 구조 정의(UI, 상태관리, 네트워크, 로컬 룰 엔진).
- [ ] Game Server 모듈 구조 정의(API, 룰 엔진, 세션, 교실 서비스).
- [ ] 데이터베이스 선택(PostgreSQL 등) 및 초기 스키마 설계.
- [ ] 캐시/세션 관리 전략(예: Redis) 정의.
- [ ] 클라우드 환경(Dev/Stage/Prod) 구조도 작성.
- [ ] Observability 스택 선택(로그/메트릭/트레이스 도구).

## 4. 데이터 모델 & ERD
- [ ] 엔티티 목록 확정(User, GameSession, Move, TutorialProgress, ClassSession, Ranking 등).
- [ ] 각 엔티티 필드 정의 및 관계 설정.
- [ ] ERD 다이어그램 작성(Mermaid 또는 도구).
- [ ] 마이그레이션 전략(초기 스키마, 버전업 방식) 정의.

## 5. API & 프로토콜 설계
- [ ] REST API 엔드포인트 목록 정의(`/api/session`, `/api/move`, `/api/classroom` 등).
- [ ] 각 엔드포인트 Request/Response 스키마 설계.
- [ ] 에러 코드/에러 응답 포맷 정의.
- [ ] WebSocket 이벤트 채널 및 페이로드 정의(실시간 게임/교실 상태).
- [ ] 인증/인가 방식(토큰, 게스트, 교사 계정) 정의.

## 6. 게임 로직 구현
- [ ] BoardState 데이터 구조 구현.
- [ ] 유효 수 검증 로직 구현.
- [ ] 선 추가 및 상자 완료 판정 로직 구현.
- [ ] 턴 전환 및 추가 턴 처리 로직 구현.
- [ ] 게임 종료 판정 및 결과 계산.
- [ ] 변형 규칙 플래그 처리(추가 턴 없음, 퍼즐 모드 등).

## 7. 체인·루프·전략 엔진
- [ ] 3변 상자 탐색 로직 구현.
- [ ] 체인 컴포넌트 탐지(DFS/BFS) 구현.
- [ ] 루프 탐지 로직 구현.
- [ ] 긴 체인 규칙/이중 교차 판단 로직 설계.
- [ ] 전략 요약(체인 길이, 위험 구간) 계산 함수 구현.

## 8. AI 봇 & 힌트 시스템
- [ ] BotStrategy 인터페이스 정의.
- [ ] 쉬움 봇 구현(랜덤 + 기초 규칙).
- [ ] 보통 봇 구현(세 번째 변 회피, 짧은 체인 활용).
- [ ] 어려움 봇 구현(체인/루프 분석, 이중 교차).
- [ ] 힌트 엔진 인터페이스 정의.
- [ ] 힌트 평가 휴리스틱 설계 및 구현.
- [ ] 힌트 UI(버튼, 강조 표시) 연결.

## 9. 튜토리얼 & 교육 컨텐츠
- [ ] 튜토리얼 단계 구조 설계(규칙 → 상자 → 세 번째 변 → 체인/루프).
- [ ] 튜토리얼 스크립트 포맷(JSON/Markdown 등) 정의.
- [ ] 만 4–6세용 튜토리얼 스크립트 작성.
- [ ] 초등 1–2학년용 튜토리얼 스크립트 작성.
- [ ] 초등 3–4학년용 전략 튜토리얼 스크립트 작성.
- [ ] 튜토리얼 엔진 구현(스크립트 해석, 하이라이트, 가이드 메시지).

## 10. 클라이언트 구현 (공통)
- [ ] 메인 메뉴 화면 구현.
- [ ] 모드/난이도/보드 크기 선택 UI 구현.
- [ ] 게임 보드 렌더링(점/선/상자, 애니메이션 포함).
- [ ] 플레이어 색/이름 설정 UI.
- [ ] 결과 화면(점수, 체인 요약, 실수 패턴) 구현.
- [ ] 설정/언어/접근성 옵션 화면 구현.

## 11. 모드별 구현

### 11.1 싱글 vs AI
- [ ] 싱글 모드 UI 흐름 연결.
- [ ] 난이도 선택 → BotStrategy 매핑.
- [ ] 턴 엔진과 봇 호출 연결.

### 11.2 로컬 2인
- [ ] 플레이어 교대 표시(색, 이름, 턴 인디케이터).
- [ ] 같은 디바이스에서 입력 처리.

### 11.3 교실 모드
- [ ] 교사 로그인/세션 생성 화면.
- [ ] 세션 코드 생성/공유 기능.
- [ ] 학생 입장 로직(코드 입력 → 세션 참가).
- [ ] 교사 대시보드(학생 리스트, 진행 상태, 선택 학생 보드 미리보기).

### 11.4 온라인 매칭(옵션/후속)
- [ ] 매치 대기열 UI 및 상태 표시.
- [ ] 매치메이킹 서비스 연동.

## 12. 서버 구현
- [ ] 세션 생성/종료 API 구현.
- [ ] move 처리 API 구현(검증 + 상태 업데이트).
- [ ] 세션 상태 조회 API 구현.
- [ ] 교실 세션 API 구현(생성, 참가, 상태 조회).
- [ ] 인증/인가 미들웨어 구현.
- [ ] WebSocket 서버 구현(게임/교실 이벤트 브로드캐스트).

## 13. 데이터 저장 & 분석 이벤트
- [ ] GameSession/Move/TutorialProgress 저장 로직 구현.
- [ ] 리플레이 저장/로드 기능 구현.
- [ ] 분석 이벤트 정의 및 로깅(FE/BE 공통 스키마).
- [ ] 대시보드용 기초 집계 쿼리/뷰 작성.

## 14. 테스트 & QA
- [ ] 룰 엔진 Unit Test 작성.
- [ ] 체인/루프/이중 교차 로직 Unit Test 작성.
- [ ] Bot 전략별 시뮬레이션 테스트.
- [ ] REST API 통합 테스트.
- [ ] WebSocket 통신 테스트.
- [ ] E2E 테스트(기본 플로우: 튜토리얼 → 싱글 게임 → 결과).

## 15. CI/CD & 운영 준비
- [ ] CI 파이프라인 설정(테스트/빌드/린트).
- [ ] 스테이징/프로덕션 환경 배포 스크립트 작성.
- [ ] 모니터링 대시보드 초안 구성.
- [ ] 알림 채널(Slack/메일 등) 연동.

## 16. CS·정책·문서 마무리
- [ ] 인앱 FAQ/도움말 작성.
- [ ] 이용약관·개인정보 처리방침 초안 작성.
- [ ] 개발자용 README/설치 가이드 정리.
- [ ] 변경 기록(Changelog) 구조 마련.


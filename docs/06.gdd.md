# Dots and Boxes Game – Game Design Document (GDD)

## 1. 게임 개요
- 장르: 턴제 보드게임 / 교육용 퍼즐
- 플랫폼: 웹/모바일(브라우저 및 하이브리드 앱)
- 대상: 만 4세 이상 어린이, 초등 1–4학년, 교사·학부모
- 핵심 목표:
  - 고전 Dots and Boxes 규칙을 기반으로, 전략 사고·공간 지능·수학적 추론을 자연스럽게 학습.
  - 난이도·모드별로 "놀이 → 학습 → 전략"으로 단계적인 경험 제공.

## 2. 핵심 게임 루프
1) 플레이어가 차례를 가진다.
2) 격자 위 두 점을 선택해 선을 긋는다.
3) 어떤 상자의 네 번째 변이 완성되면, 해당 플레이어가 상자를 획득하고 추가 턴을 얻는다.
4) 모든 선이 그려지거나, 더 이상 유의미한 수가 없으면 게임이 종료된다.
5) 더 많은 상자를 가진 플레이어가 승리한다.

## 3. 규칙 & 승리 조건

### 3.1 기본 규칙 (클래식 모드)
- 보드는 점(dot)들이 정사각 격자 형태로 배치된 상태로 시작.
- 플레이어는 턴마다 상하/좌우 인접한 두 점 사이에 선을 하나 그을 수 있다.
- 네 변이 모두 그려진 사각형(박스)은 그 선을 완성한 플레이어의 점수 1점을 의미하며, 해당 상자 안에 플레이어 색으로 채워 넣는다.
- 상자를 하나 이상 만들면, 그 플레이어는 즉시 한 번 더 턴을 가진다.
- 모든 가능한 선이 그려지면 게임 종료.
- 승리 조건: 더 많은 상자를 획득한 플레이어가 승리, 동점이면 무승부.

### 3.2 변형 규칙 (교육/난이도용)
- 추가 턴 없음 모드: 상자를 완성해도 턴이 넘어간다(유아용 단순화).
- 제한 시간 모드: 턴당 제한 시간(예: 10초)을 두어 의사결정 속도 훈련.
- 대각선 허용 모드(실험적): 대각선 선도 허용해 다양한 도형과 전략 실험.
- 퍼즐 모드: 주어진 보드 상태에서 최적/차선의 수를 찾는 단일 턴 퍼즐.

### 3.3 연령별 규칙 세트
- 만 4–6세
  - 보드: 3x3 또는 4x4.
  - 추가 턴 없음, 게임 길이 짧게.
  - 승리보다 상자 채우기 경험, 색칠 애니메이션 강조.
- 초등 1–2학년
  - 보드: 4x4, 5x5.
  - 기본 추가 턴 규칙 사용.
  - 체인(3개 이상 연속 상자)을 인식하도록 튜토리얼에서 소개.
- 초등 3–4학년
  - 보드: 5x5, 6x6 이상.
  - 체인/루프, 이중 교차 전략까지 포함.
  - 퍼즐 모드, 고급 AI 봇과의 대전 제공.

## 4. 게임 모드 설계

### 4.1 튜토리얼 모드
- 목적: 규칙 이해, 기본 전략 학습.
- 구조:
  - 단계 1: 선 긋기(합법/불법 수 구분).
  - 단계 2: 상자 만들기, 추가 턴 경험.
  - 단계 3: "세 번째 변 만들지 않기" 개념.
  - 단계 4: 체인/루프 시각화 및 기초 전략.
- UX 요소:
  - 하이라이트, 손가락 애니메이션, 음성/텍스트 가이드.
  - 잘못된 선택 시 부드러운 피드백(재시도 유도).

### 4.2 싱글플레이 vs AI
- 난이도 옵션: 쉬움 / 보통 / 어려움 (추후 확장 가능).
- 쉬움: 대부분 랜덤 + 명백한 실수 방지 정도.
- 보통: 세 번째 변을 피하고, 짧은 체인 활용.
- 어려움: 긴 체인 관리, 이중 교차 사용, 루프 전략.
- 플레이 흐름:
  - 난이도 선택 → 보드 크기 선택 → 선공/후공 선택 → 대국.

### 4.3 로컬 2인 플레이
- 한 디바이스에서 번갈아가며 플레이.
- 플레이어 A/B의 색/이름 설정.
- 게임 후 결과 화면에서 각자 상자 수, 실수 패턴 간단 표시.

### 4.4 온라인 매칭 (후속 단계 또는 옵션)
- 캐주얼 매치: 비랭크, 간단 매칭.
- 랭크 매치(후속 버전): MMR 기반 매칭, 시즌제 랭킹.

### 4.5 교실 모드
- 교사가 세션을 만들고 학생에게 코드 공유.
- 각 학생은 자신의 디바이스로 입장.
- 교사 대시보드:
  - 학생별 진행 상황(게임 수, 승패, 튜토리얼 단계).
  - 실시간 보드 미니맵(선택 학생의 보드 스냅샷).

## 5. 난이도·레벨 디자인

### 5.1 보드 크기별 난이도 곡선
- 3x3 / 4x4: 입문용, 체인 길이가 짧음.
- 5x5: 체인 전략이 중요해지는 구간, 초등 저학년 중심.
- 6x6+: 체인/루프, 이중 교차 전략이 크게 작용, 고학년 및 성인.

### 5.2 AI 난이도별 행동 규칙(개략)
- 쉬움
  - 50% 랜덤, 50% 상자 완성 시도.
  - 체인/루프 인식하지 않음.
- 보통
  - 세 번째 변을 피하려고 시도.
  - 눈에 보이는 짧은 체인(2–3칸)은 활용.
- 어려움
  - 전체 체인/루프 구조 분석.
  - 긴 체인은 상대가 먼저 열게 유도.
  - 이중 교차 패턴 적용.

## 6. UX 가이드 & 피드백

### 6.1 비주얼 스타일
- 따뜻한 보드/책상 질감 배경.
- 점/선/상자는 색상 대비가 명확하고, 연령별 테마 선택 가능(예: 파스텔, 원색).

### 6.2 피드백 & 애니메이션
- 선을 그을 때 짧은 음향 효과와 라인 드로잉 애니메이션.
- 상자 완성 시 색 채워지는 애니메이션과 작고 기쁜 효과음.
- 잘못된 수(이미 존재하는 선, 허용되지 않는 위치)를 선택하면 부드러운 흔들림 + 안내.

### 6.3 접근성
- 색맹 모드: 패턴/기호로 플레이어 구분.
- 텍스트 가독성: 충분한 크기, 고대비.
- 사운드 온/오프 및 진동 피드백 옵션.

## 7. 메타 게임 & 진행(선택적)

### 7.1 프로필 & 진척도
- 플레이어 레벨(경험치 기반).
- 업적: "첫 승리", "체인 4칸 이상 완성", "튜토리얼 완료" 등.

### 7.2 코스메틱 (후속)
- 점/선/상자 테마 스킨.
- 아바타/보더 프레임.

## 8. 교육 요소 설계

### 8.1 학습 목표 맵핑
- 규칙 이해 → 수학 교과(평면도형, 변/꼭짓점 개념)와의 연결.
- 체인/루프 → 패턴 인식, 경우의 수 추론.
- 전략 수립 → 계획, 예측, 결과 피드백 루프.

### 8.2 교사용 제안 활동
- 수업 전 활동: 3x3 판에서 규칙 복습.
- 수업 중 활동: 학생별 전략 설명 발표.
- 수업 후 활동: 리플레이 보면서 "다른 선택" 토론.

## 9. 세션 흐름(요약 플로우)
1) 메인 메뉴 → 모드 선택.
2) 난이도/보드 크기/선공·후공 설정.
3) 대국 진행.
4) 결과 화면(점수, 체인 요약, 실수 패턴).
5) 재도전 / 다른 모드 추천.

## 10. 오픈 디자인 이슈
- 고급 전략(체인/루프)을 얼마나 초기에 드러낼지, 학습 곡선 설계.
- AI 봇의 "실수"를 어느 정도까지 허용할지(교육 vs 재미 균형).
- 교실 모드에서 교사의 개입(수동/자동 힌트) 수준.
